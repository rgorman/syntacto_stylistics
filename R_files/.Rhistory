2*2
install.packages(c("XML", "textreuse"))
library(XML)
source("code/corpusFunctions.R")
setwd("~/R")
source("code/corpusFunctions.R")
setwd("~/syntacto_stylistics/R_files")
source("code/corpusFunctions.R")
input.dir <- "../rel_pos_files"
files.v <- dir(path=input.dir, pattern=".*xml")
input.dir <- "../rel_pos_files/"
files.v <- dir(path=input.dir, pattern=".*xml")
input.dir <- "../Leipzig_Dec15/rel_pos_files"
files.v <- dir(path=input.dir, pattern=".*xml")
i <- 1
book.freqs.l <- list ()
for (i in 1:length(files.v)) {
doc.object <- xmlTreeParse(file.path(input.dir, files.v[i]), useInternalNodes=TRUE)
sword.data <-getSwordTableList(doc.object)
book.freqs.l[[files.v[i]]] <-sword.data
}
length(book.freqs.l)
length(book.freqs.l[[19]])
str(book.freqs.l[[1]])
files.v[1]
length(book.freqs.l[[1]])
files.v[1:5]
length(book.freqs.l[[2]])
length(book.freqs.l[[3]])
length(book.freqs.l[[4:7]])
length(book.freqs.l[[4]])
length(book.freqs.l[[5]])
length(book.freqs.l[[6]])
length(book.freqs.l[[7]])
length(book.freqs.l[[8]])
length(book.freqs.l[[9]])
length(book.freqs.l[[8]])
length(book.freqs.l[[9]])
length(book.freqs.l[[10]])
files.v[7:10]
files.v[11:15]
length(book.freqs.l[[12]])
length(book.freqs.l[[13]])
length(book.freqs.l[[14]])
length(book.freqs.l[[15]])
files.v[16:20]
length(book.freqs.l[[16]])
length(book.freqs.l[[17]])
length(book.freqs.l[[18]])
length(book.freqs.l[[19]])
length(book.freqs.l[[20]])
files.v[21:25]
length(book.freqs.l[[21]])
length(book.freqs.l[[22]])
length(book.freqs.l[[23]])
length(book.freqs.l[[24]])
length(book.freqs.l[[25]])
freqs.l <- mapply(data.frame, ID=seq_along(book.freqs.l),
book.freqs.l, SIMPLIFY=FALSE, MoreArgs=list(stringsAsFactors=FALSE))
freqs.df <- do.call(rbind, freqs.l)
result <- xtabs(Freq ~ ID+sword.content.lower, data=freqs.df)
dim(result)
i <- 1
lemma.l <- list()
i <- 1
for(i in 1:length(files.v)){
doc.object <- xmlTreeParse(file.path(input.dir, files.v[i]), useInternalNodes=TRUE)
sword.lemma <- getNodeSet(doc.object, "//sWord/@lemma")
lemma.v <- paste(sword.lemma, collapse=NULL)
lemma.freqs.t <-table(lemma.v)
lemma.l[[i]] <- lemma.freqs.t
}
lemma.l[[1]][1]
str(lemma.l[[1]])
files.v
str(lemma.l[[17]])
str(lemma.l[[9]])
length(lemma.l)
length(lemma.l[[1]])
length(lemma.l[[17]])
length(lemma.l[[2]])
length(lemma.l[[3]])
length(lemma.l[[4]])
length(lemma.l[[5]])
length(lemma.l[[6]])
length(lemma.l[[7]])
length(lemma.l[[8]])
length(lemma.l[[9]])
files.v
length(lemma.l[[10]])
length(lemma.l[[11]])
length(lemma.l[[12]])
length(lemma.l[[13]])
length(lemma.l[[14]])
length(lemma.l[[15]])
length(lemma.l[[16]])
length(lemma.l[[17]])
length(lemma.l[[18]])
length(lemma.l[[19]])
length(lemma.l[[20]])
files.v
length(lemma.l[[21]])
length(lemma.l[[22]])
length(lemma.l[[23]])
length(lemma.l[[24]])
length(lemma.l[[25]])
freqs.l <- mapply(data.frame, ID=seq_along(book.freqs.l),
lemma.freqs.l, SIMPLIFY=FALSE, MoreArgs=list(stringsAsFactors=FALSE))
freqs.l <- mapply(data.frame, ID=seq_along(book.freqs.l),
lemma.l, SIMPLIFY=FALSE, MoreArgs=list(stringsAsFactors=FALSE))
freqs.df <- do.call(rbind, freqs.l)
result <- xtabs(Freq ~ ID+sword.content.lower, data=freqs.df)
names(freqs.df)
result <- xtabs(Freq ~ ID+lemma.v, data=freqs.df)
dim(result)
